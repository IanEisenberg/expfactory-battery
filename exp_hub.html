<html>
  <head>
    <title>My experiment</title>
    <script src="static/lib/jquery-min.js"></script>
    <script src="static/js/jspsych/jspsych.js"></script>
    <script src="static/js/jspsych/plugins/jspsych-text.js"></script>
    <script src="static/js/jspsych/plugins/jspsych-instructions.js"></script>
    <script src="static/js/jspsych/plugins/jspsych-single-stim.js"></script>
    <script src="static/js/jspsych/plugins/jspsych-categorize.js"></script>
    <script src="static/js/jspsych/plugins/jspsych-call-function.js"></script>
    <script src="static/js/jspsych/plugins/jspsych-survey-text.js"></script>
    <script src="static/js/jspsych/plugins/jspsych-survey-likert.js"></script>
    <script src="static/js/jspsych/custom_plugins/jspsych-consent.js"></script>
    <script src="static/js/jspsych/custom_plugins/jspsych-radio-buttonlist.js"></script>
    <script src="static/js/load_experiments.js"></script>
    <link href="static/css/jspsych.css" rel="stylesheet" type="text/css"></link>
    <link href="static/css/default_style.css" rel="stylesheet" type="text/css"></link>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
    <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/black-tie/jquery-ui.min.css" rel="stylesheet" type="text/css"></link>

  </head>
  <body>
	  
	  <script> 

  	  // create the consent block.
	  /*
	  var consent_block = {
	  	type:'consent',
	  	consent_text:'<div class = centerbox><p class = block-text>Welcome to the experiment. Please sign away your brain.</p><br></br>',
	  	checkbox_text: 'I agree to participate in this study.',
	  	button_text: "Begin experiment!",
  		timing_post_trial: 0
	  };
	  */


  	        // Create html string for tasks to be included in this HIT using experiment_names variable returned by load_experiments.js when page loaded

		var task_list = '<ul list-text>'
		for (i=0; i<experiment_names.length; i++) {
			task_list += '<li>' + experiment_names[i] + '</li>'
		}
  	
               // Display html string with experiment names for that HIT to the participant
		var task_list_block = {
		  type: 'text',
		  text: '<div class = centerbox><p class = block-text>In this HIT you will be completing the following tasks: </p>' + task_list + '</ul><p class = block-text>Press <strong>enter</strong> to continue.</p></div>',
		  cont_key: 13,
		  timing_post_trial: 0
		};
		
		//Create and populate experiments array		
		var experiments = []
		experiments.push(task_list_block)
		// concatenate on the experimental blocks defined for each of the constituent experiments
		cat_experiments(experiments)

		// start the experiment
		jsPsych.init({
		  //experiment_structure: experiments,
		  timeline: experiments,
		  on_finish: function() {
			jsPsych.data.localSave('test_save.csv','csv');
		  }
		});
		
	  </script>
  </body>
</html>
